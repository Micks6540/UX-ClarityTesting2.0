<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lib'Row - Book Borrowing</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "ujacfrizg9");
    src="https://t.contentsquare.net/uxa/30193db688e05.js"
</script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }

        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, #2c3e50, #214d25);
            color: white;
            padding: 25px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 32px;
            font-weight: 800;
            display: flex;
            align-items: center;
            letter-spacing: 1px;
        }

        .logo i {
            margin-right: 12px;
            color: #4ecdc4;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }


        .header-icons {
            display: flex;
            align-items: center;
            gap: 35px;
        }

        .icon-container {
            position: relative;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .icon-container:hover {
            transform: translateY(-2px);
        }

        .icon-bell, .icon-cart, .icon-user {
            font-size: 20px;
            color: white;
            padding: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .icon-bell:hover, .icon-cart:hover, .icon-user:hover {
            background: rgba(255,255,255,0.2);
        }

        .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #ff6b6b;
            color: white;
            font-size: 12px;
            font-weight: bold;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cart-badge {
            background-color: #4ecdc4;
        }

        /* Main Layout */
        .main-layout {
            display: flex;
            gap: 30px;
            margin: 30px 0;
        }

        .sidebar {
            flex: 0 0 250px;
        }

        .main-content {
            flex: 1;
        }

        /* Book Cover Images */
.book-cover-image {
    width: 100%;
    height: 100%;
    object-position: center;
}

.book-image {
    width: 100%;
    height: 220px;
    background-color: #f1f5f9;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #94a3b8;
    font-size: 14px;
    text-align: center;
    padding: 0;
    overflow: hidden;
}

.book-image i {
    font-size: 48px;
    color: #cbd5e1;
}

/* Ensure smooth transition for images */
.book-image img {
    transition: transform 0.3s ease;
}

.book-card:hover .book-image img {
    transform: scale(1.05);
}

        /* Search Section */
        .search-section {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        .search-box {
            width: 100%;
            padding: 14px 20px;
            border: 2px solid #e0e6ef;
            border-radius: 10px;
            font-size: 16px;
            margin-bottom: 20px;
            transition: border 0.3s;
        }

        .search-box:focus {
            outline: none;
            border-color: #4ecdc4;
        }

        .sort-section {
            margin-top: 15px;
        }

        .sort-label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            display: block;
        }

        .sort-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .sort-btn {
            background-color: #f1f5f9;
            border: 1px solid #d1d9e6;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .sort-btn:hover, .sort-btn.active {
            background-color: #4ecdc4;
            color: white;
            border-color: #4ecdc4;
        }

        /* Section Styles */
        .section {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        .section-title {
            font-size: 24px;
            margin-bottom: 20px;
            color: #2c3e50;
            padding-bottom: 12px;
            border-bottom: 3px solid #4ecdc4;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: #4ecdc4;
        }

        /* Book Grid */
        .book-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
        }

        .book-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            border: 1px solid #eaeaea;
        }

        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.12);
        }

        .book-image {
            width: 100%;
            height: 220px;
            background-color: #f1f5f9;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            font-size: 14px;
            text-align: center;
            padding: 10px;
        }

        .book-image i {
            font-size: 48px;
            color: #cbd5e1;
        }

        .book-info {
            padding: 15px;
        }

        .book-title {
            font-size: 16px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 6px;
            line-height: 1.3;
            height: 42px;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .book-author {
            color: #64748b;
            font-size: 14px;
            font-style: italic;
            margin-bottom: 12px;
        }

        .borrow-btn {
            background-color: #4ecdc4;
            color: white;
            border: none;
            width: 100%;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s;
            font-size: 14px;
        }

        .borrow-btn:hover {
            background-color: #3db8af;
        }

        /* Genre Grid */
        .genre-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
        }

        .genre-card {
            background-color: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .genre-card:hover {
            background-color: #4ecdc4;
            color: white;
            border-color: #4ecdc4;
            transform: translateY(-3px);
        }

        .genre-name {
            font-weight: 600;
            font-size: 15px;
        }

        /* Two-column layout for books section */
        .books-two-column {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        /* Dropdown Styles */
        .dropdown {
            position: relative;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            top: 50px;
            background-color: white;
            min-width: 220px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border-radius: 10px;
            z-index: 1000;
            padding: 10px 0;
            color: #333;
        }

        .user-dropdown {
            min-width: 200px;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown-title {
            font-weight: 600;
            padding: 10px 15px;
            color: #2c3e50;
            font-size: 16px;
            border-bottom: 1px solid #eee;
            margin-bottom: 5px;
        }

        .notification-item, .cart-item, .menu-item {
            padding: 12px 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .notification-item:hover, .cart-item:hover, .menu-item:hover {
            background-color: #f8f9fa;
        }

        .notification-item, .cart-item {
            border-bottom: 1px solid #eee;
        }

        .notification-item:last-child, .cart-item:last-child {
            border-bottom: none;
        }

        .notification-item i, .cart-item i, .menu-item i {
            color: #4ecdc4;
            width: 20px;
            text-align: center;
        }

        .notification-text, .cart-text, .menu-text {
            font-size: 14px;
            flex: 1;
        }

        .notification-time, .cart-author {
            font-size: 12px;
            color: #888;
        }

        .menu-text {
            color: #2c3e50;
            font-weight: 500;
        }

        .menu-item.logout {
            border-top: 1px solid #eee;
            margin-top: 5px;
            padding-top: 15px;
        }

        .menu-item.logout i {
            color: #ff6b6b;
        }

        .menu-item.logout .menu-text {
            color: #ff6b6b;
        }

        .view-all {
            text-align: center;
            padding: 10px;
            color: #4ecdc4;
            font-weight: 500;
            cursor: pointer;
            border-top: 1px solid #eee;
            margin-top: 5px;
        }

        /* Footer */
        footer {
            background-color: #2c3e50;
            color: white;
            text-align: center;
            padding: 25px;
            margin-top: 40px;
        }

        .footer-content p {
            margin: 5px 0;
            color: #cbd5e1;
        }

        /* Book Detail Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal-content {
            background-color: white;
            border-radius: 15px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            position: relative;
        }

        .modal-header {
            padding: 25px 30px 15px;
            border-bottom: 1px solid #eee;
        }

        .modal-title {
            font-size: 28px;
            font-weight: 800;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .modal-author {
            font-size: 18px;
            color: #666;
            font-style: italic;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            color: #666;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .close-modal:hover {
            background-color: #f8f9fa;
            color: #ff6b6b;
        }

        .modal-body {
            padding: 20px 30px;
        }

        .book-details-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 25px;
        }

        @media (max-width: 600px) {
            .book-details-grid {
                grid-template-columns: 1fr;
            }
        }

        .detail-item {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
        }

        .detail-label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .detail-value {
            color: #666;
            font-size: 16px;
        }

        .availability {
            background-color: #e8f5e9;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 25px;
        }

        .availability-label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .availability-value {
            font-size: 20px;
            color: #2ecc71;
            font-weight: 700;
        }

        .book-description {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
        }

        .description-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .description-text {
            color: #555;
            line-height: 1.6;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        @media (max-width: 480px) {
            .modal-actions {
                flex-direction: column;
            }
        }

        .action-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .borrow-now-btn {
            background-color: #4ecdc4;
            color: white;
        }

        .borrow-now-btn:hover {
            background-color: #3db8af;
            transform: translateY(-2px);
        }

        .add-to-cart-btn {
            background-color: #2c3e50;
            color: white;
        }

        .add-to-cart-btn:hover {
            background-color: #1a252f;
            transform: translateY(-2px);
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .main-layout {
                flex-direction: column;
            }
            
            .sidebar {
                flex: none;
                width: 100%;
            }
            
            .books-two-column {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .book-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .genre-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .header-right {
                justify-content: center;
                width: 100%;
                flex-wrap: wrap;
            }
            
            .header-icons {
                justify-content: center;
            }
            
            .modal-content {
                margin: 10px;
                padding: 0;
            }
            
            .modal-header, .modal-body {
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .book-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .genre-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .sort-options {
                justify-content: center;
            }
            
            .header-icons {
                gap: 10px;
            }
            
            .dropdown-content {
                min-width: 200px;
                right: -50px;
            }
            
            .user-dropdown {
                right: -30px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-book-open"></i> Lib'Row
                </div>
                <div class="header-right">
                    
                    <div class="header-icons">
                        <!-- Notification Bell -->
                        <div class="dropdown">
                            <div class="icon-container">
                                <div class="icon-bell">
                                    <i class="fas fa-bell"></i>
                                    <span class="badge" id="notificationCount">3</span>
                                </div>
                            </div>
                            <div class="dropdown-content">
                                <div class="dropdown-title">Notifications</div>
                                <div class="notification-item">
                                    <i class="fas fa-book"></i>
                                    <div>
                                        <div class="notification-text">"1984" is ready for pickup</div>
                                        <div class="notification-time">10 min ago</div>
                                    </div>
                                </div>
                                <div class="notification-item">
                                    <i class="fas fa-clock"></i>
                                    <div>
                                        <div class="notification-text">"The Great Gatsby" due in 2 days</div>
                                        <div class="notification-time">1 hour ago</div>
                                    </div>
                                </div>
                                <div class="notification-item">
                                    <i class="fas fa-star"></i>
                                    <div>
                                        <div class="notification-text">New books in Fiction added</div>
                                        <div class="notification-time">Yesterday</div>
                                    </div>
                                </div>
                                <div class="view-all" onclick="viewAllNotifications()">View All Notifications</div>
                            </div>
                        </div>

                        <!-- Cart Icon -->
                        <div class="dropdown">
                            <div class="icon-container">
                                <div class="icon-cart">
                                    <i class="fas fa-shopping-cart"></i>
                                    <span class="badge cart-badge" id="cartCount">2</span>
                                </div>
                            </div>
                            <div class="dropdown-content">
                                <div class="dropdown-title">Borrowing Cart</div>
                                <div class="cart-item">
                                    <i class="fas fa-book"></i>
                                    <div>
                                        <div class="notification-text">To Kill a Mockingbird</div>
                                        <div class="cart-author">Harper Lee</div>
                                    </div>
                                </div>
                                <div class="cart-item">
                                    <i class="fas fa-book"></i>
                                    <div>
                                        <div class="notification-text">The Hobbit</div>
                                        <div class="cart-author">J.R.R. Tolkien</div>
                                    </div>
                                </div>
                                <div class="view-all" onclick="viewCart()">Go to Cart</div>
                            </div>
                        </div>

                        <!-- User Menu -->
                        <div class="dropdown">
                            <div class="icon-container">
                                <div class="icon-user">
                                    <i class="fas fa-user"></i>
                                </div>
                            </div>
                            <div class="dropdown-content user-dropdown">
                                <div class="dropdown-title">Menu</div>
                                <div class="menu-item" onclick="goToAccountManagement()">
                                    <i class="fas fa-user-cog"></i>
                                    <span class="menu-text">Account Management</span>
                                </div>
                                <div class="menu-item" onclick="goToManageBorrows()">
                                    <i class="fas fa-book-open"></i>
                                    <span class="menu-text">Manage Borrows</span>
                                </div>
                                <div class="menu-item" onclick="goToBorrowHistory()">
                                    <i class="fas fa-history"></i>
                                    <span class="menu-text">Borrow History</span>
                                </div>
                                <div class="menu-item logout" onclick="logout()">
                                    <i class="fas fa-sign-out-alt"></i>
                                    <span class="menu-text">Logout</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="main-layout">
            <!-- Sidebar -->
            <aside class="sidebar">
                <!-- Search Section -->
                <div class="search-section">
                    <h2 style="margin-bottom: 15px; color: #2c3e50;">
                        <i class="fas fa-search"></i> Search
                    </h2>
                    <input type="text" class="search-box" placeholder="Search books, authors, genres...">
                    
                    <div class="sort-section">
                        <span class="sort-label">Sort by</span>
                        <div class="sort-options">
                            <button class="sort-btn active">Books</button>
                            <button class="sort-btn">Tools & Equipment</button>
                            <button class="sort-btn">Medicine</button>
                        </div>
                    </div>
                </div>

                <!-- Popular Genre Section -->
                <div class="section">
                    <h2 class="section-title">
                        <i class="fas fa-tags"></i> Popular Genre
                    </h2>
                    <div class="genre-grid">
                        <div class="genre-card">
                            <div class="genre-name">Fiction</div>
                        </div>
                        <div class="genre-card">
                            <div class="genre-name">English</div>
                        </div>
                        <div class="genre-card">
                            <div class="genre-name">Biology</div>
                        </div>
                        <div class="genre-card">
                            <div class="genre-name">Encyclopedia</div>
                        </div>
                        <div class="genre-card">
                            <div class="genre-name">Math & Statistics</div>
                        </div>
                        <div class="genre-card">
                            <div class="genre-name">Biography</div>
                        </div>
                        <div class="genre-card">
                            <div class="genre-name">Chemistry</div>
                        </div>
                        <div class="genre-card">
                            <div class="genre-name">History</div>
                        </div>
                        <div class="genre-card">
                            <div class="genre-name">Law & Politics</div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Content Area -->
            <main class="main-content">
                <!-- Popular Books Section -->
                <div class="section">
                    <h2 class="section-title">
                        <i class="fas fa-fire"></i> Popular Books
                    </h2>
                    <div class="book-grid" id="popularBooks">
                        <!-- Popular books will be inserted here by JavaScript -->
                    </div>
                </div>

                <!-- Books & References Section -->
                <div class="section">
                    <h2 class="section-title">
                        <i class="fas fa-book"></i> Books & References
                    </h2>
                    <div class="books-two-column">
                        <div class="book-grid" id="column1">
                            <!-- Column 1 books will be inserted here -->
                        </div>
                        <div class="book-grid" id="column2">
                            <!-- Column 2 books will be inserted here -->
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container footer-content">
            <p>Lib'Row - Student Book Borrowing System</p>
            <p>© 2024 All Rights Reserved | Static UI Demo</p>
            <p style="margin-top: 10px; font-size: 14px;">
                <i class="fas fa-book-reader"></i> Borrow. Read. Return.
            </p>
        </div>
    </footer>

    <!-- Book Detail Modal -->
    <div id="bookModal" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal" onclick="closeBookModal()">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-header">
                <h2 class="modal-title" id="modalBookTitle"></h2>
                <p class="modal-author" id="modalBookAuthor"></p>
            </div>
            <div class="modal-body">
                <div class="book-details-grid">
                    <div class="detail-item">
                        <div class="detail-label">Section name:</div>
                        <div class="detail-value" id="modalBookSection">Dystopian</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Book number:</div>
                        <div class="detail-value" id="modalBookNumber">6</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Language:</div>
                        <div class="detail-value" id="modalBookLanguage">English</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Access:</div>
                        <div class="detail-value" id="modalBookAccess">Available immediately</div>
                    </div>
                </div>
                
                <div class="availability">
                    <div class="availability-label">Available:</div>
                    <div class="availability-value" id="modalBookCopies">8 copies</div>
                </div>
                
                <div class="book-description">
                    <div class="description-title">Description:</div>
                    <div class="description-text" id="modalBookDescription">
                        A dystopian story about totalitarian surveillance and control.
                    </div>
                </div>
                
                <div class="book-description">
                    <div class="description-title">Publisher:</div>
                    <div class="description-text" id="modalBookPublisher">Secker & Warburg</div>
                </div>
                
                <div class="book-description">
                    <div class="description-title">Published:</div>
                    <div class="description-text" id="modalBookPublished">1949</div>
                </div>
                
                <div class="modal-actions">
                    <button class="action-btn borrow-now-btn" onclick="borrowFromModal()">
                        <i class="fas fa-book"></i> BORROW NOW
                    </button>
                    <button class="action-btn add-to-cart-btn" onclick="addToCartFromModal()">
                        <i class="fas fa-shopping-cart"></i> ADD TO CART
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Book data with detailed information
        const books = [
            {
                title: "1984",
                author: "George Orwell",
                image: "images/6.jpg",
                section: "Dystopian",
                bookNumber: "6",
                language: "English",
                access: "Available immediately",
                copies: "8 copies",
                description: "A dystopian social science fiction novel and cautionary tale about totalitarian surveillance and control.",
                publisher: "Secker & Warburg",
                published: "1949"
            },
            {
                title: "To Kill a Mockingbird",
                author: "Harper Lee",
                image: "images/5.jpg",
                section: "Southern Gothic",
                bookNumber: "12",
                language: "English",
                access: "Available immediately",
                copies: "5 copies",
                description: "A novel about racial injustice and loss of innocence in the American South during the Great Depression.",
                publisher: "J.B. Lippincott & Co.",
                published: "1960"
            },
            {
                title: "The Great Gatsby",
                author: "F. Scott Fitzgerald",
                image: "images/4.jpg",
                section: "Tragedy",
                bookNumber: "8",
                language: "English",
                access: "Available immediately",
                copies: "7 copies",
                description: "A story of the fabulously wealthy Jay Gatsby and his love for the beautiful Daisy Buchanan.",
                publisher: "Charles Scribner's Sons",
                published: "1925"
            },
            {
                title: "The Catcher in the Rye",
                author: "J.D. Salinger",
                image: "images/7.jpg",
                section: "Coming-of-age",
                bookNumber: "15",
                language: "English",
                access: "Available immediately",
                copies: "6 copies",
                description: "A story about Holden Caulfield's experiences in New York City after being expelled from prep school.",
                publisher: "Little, Brown and Company",
                published: "1951"
            },
            {
                title: "Pride and Prejudice",
                author: "Jane Austen",
                image: "images/8.jpg",
                section: "Romance",
                bookNumber: "3",
                language: "English",
                access: "Available immediately",
                copies: "9 copies",
                description: "A romantic novel of manners that depicts the emotional development of protagonist Elizabeth Bennet.",
                publisher: "T. Egerton, Whitehall",
                published: "1813"
            },
            {
                title: "Brave New World",
                author: "Aldous Huxley",
                image: "images/9.jpg",
                section: "Dystopian",
                bookNumber: "7",
                language: "English",
                access: "Available immediately",
                copies: "4 copies",
                description: "A dystopian social science fiction novel about a technologically advanced future society.",
                publisher: "Chatto & Windus",
                published: "1932"
            },
            {
                title: "Moby-Dick",
                author: "Herman Melville",
                image: "images/10.jpg",
                section: "Adventure",
                bookNumber: "22",
                language: "English",
                access: "Available immediately",
                copies: "3 copies",
                description: "The voyage of the whaling ship Pequod and its captain, Ahab, who seeks revenge on a giant white whale.",
                publisher: "Richard Bentley",
                published: "1851"
            },
            {
                title: "The Hobbit",
                author: "J.R.R. Tolkien",
                image: "images/11.jpg",
                section: "Fantasy",
                bookNumber: "9",
                language: "English",
                access: "Available immediately",
                copies: "10 copies",
                description: "A fantasy novel about the adventures of hobbit Bilbo Baggins in Middle-earth.",
                publisher: "George Allen & Unwin",
                published: "1937"
            },
            {
                title: "Fahrenheit 451",
                author: "Ray Bradbury",
                image: "images/12.jpg",
                section: "Dystopian",
                bookNumber: "11",
                language: "English",
                access: "Available immediately",
                copies: "6 copies",
                description: "A dystopian novel about a future American society where books are outlawed and burned.",
                publisher: "Ballantine Books",
                published: "1953"
            },
            {
                title: "The Lord of the Rings",
                author: "J.R.R. Tolkien",
                image: "images/13.jpg",
                section: "Fantasy",
                bookNumber: "1",
                language: "English",
                access: "Check availability",
                copies: "2 copies",
                description: "An epic high fantasy novel about the quest to destroy the One Ring and defeat the Dark Lord Sauron.",
                publisher: "George Allen & Unwin",
                published: "1954"
            },
            {
                title: "The Alchemist",
                author: "Paulo Coelho",
                image: "images/14.jpg",
                section: "Quest",
                bookNumber: "18",
                language: "Portuguese",
                access: "Available immediately",
                copies: "12 copies",
                description: "A philosophical novel about a young Andalusian shepherd's journey to the pyramids of Egypt.",
                publisher: "HarperTorch",
                published: "1988"
            },
            {
                title: "The Da Vinci Code",
                author: "Dan Brown",
                image: "images/15.jpg",
                section: "Mystery",
                bookNumber: "25",
                language: "English",
                access: "Available immediately",
                copies: "15 copies",
                description: "A mystery thriller novel about a murder in Paris's Louvre Museum and clues in Da Vinci's paintings.",
                publisher: "Doubleday",
                published: "2003"
            },
            {
                title: "The Hunger Games",
                author: "Suzanne Collins",
                image: "images/16.jpg",
                section: "Dystopian",
                bookNumber: "30",
                language: "English",
                access: "Available immediately",
                copies: "11 copies",
                description: "A dystopian novel about a teenage girl who volunteers to take her younger sister's place in a deadly competition.",
                publisher: "Scholastic Corporation",
                published: "2008"
            },
            {
                title: "Harry Potter and the Philosopher's Stone",
                author: "J.K. Rowling",
                image: "images/17.jpg",
                section: "Fantasy",
                bookNumber: "2",
                language: "English",
                access: "Available immediately",
                copies: "20 copies",
                description: "The first novel in the Harry Potter series about a young wizard's first year at Hogwarts School.",
                publisher: "Bloomsbury",
                published: "1997"
            },
            {
                title: "The Fault in Our Stars",
                author: "John Green",
                image: "images/18.jpg",
                section: "Young Adult",
                bookNumber: "28",
                language: "English",
                access: "Available immediately",
                copies: "8 copies",
                description: "A novel about two teenagers who meet at a cancer support group and fall in love.",
                publisher: "Dutton Books",
                published: "2012"
            },
            {
                title: "The Outsiders",
                author: "S.E. Hinton",
                image: "images/19.jpg",
                section: "Young Adult",
                bookNumber: "19",
                language: "English",
                access: "Available immediately",
                copies: "7 copies",
                description: "A novel about the conflict between two rival gangs divided by their socioeconomic status.",
                publisher: "Viking Press",
                published: "1967"
            },
            {
                title: "The Girl with the Dragon Tattoo",
                author: "Stieg Larsson",
                image: "images/20.jpg",
                section: "Crime",
                bookNumber: "14",
                language: "Swedish",
                access: "Check availability",
                copies: "4 copies",
                description: "A psychological thriller novel about a journalist and a hacker investigating a wealthy family.",
                publisher: "Norstedts Förlag",
                published: "2005"
            },
            {
                title: "The Book Thief",
                author: "Markus Zusak",
                image: "images/21.jpg",
                section: "Historical",
                bookNumber: "17",
                language: "English",
                access: "Available immediately",
                copies: "9 copies",
                description: "A historical novel set in Nazi Germany, narrated by Death, about a girl who steals books.",
                publisher: "Picador",
                published: "2005"
            },
            {
                title: "The Shining",
                author: "Stephen King",
                image: "images/22.jpg",
                section: "Horror",
                bookNumber: "21",
                language: "English",
                access: "Available immediately",
                copies: "6 copies",
                description: "A horror novel about a family's winter at an isolated hotel where the father is influenced by supernatural forces.",
                publisher: "Doubleday",
                published: "1977"
            },
            {
                title: "Life of Pi",
                author: "Yann Martel",
                image: "images/23.jpg",
                section: "Adventure",
                bookNumber: "23",
                language: "English",
                access: "Available immediately",
                copies: "5 copies",
                description: "A novel about an Indian boy who survives 227 days after a shipwreck stranded on a lifeboat with a Bengal tiger.",
                publisher: "Knopf Canada",
                published: "2001"
            },
            {
                title: "The Name of the Wind",
                author: "Patrick Rothfuss",
                image: "images/32.jpg",
                section: "Fantasy",
                bookNumber: "26",
                language: "English",
                access: "Available immediately",
                copies: "3 copies",
                description: "A fantasy novel about a gifted young man's journey through a world of magic, music, and mystery.",
                publisher: "DAW Books",
                published: "2007"
            },
            {
                title: "The Martian",
                author: "Andy Weir",
                image: "images/35.jpg",
                section: "Science Fiction",
                bookNumber: "29",
                language: "English",
                access: "Available immediately",
                copies: "10 copies",
                description: "A science fiction novel about an astronaut stranded on Mars and his struggle to survive.",
                publisher: "Crown",
                published: "2011"
            }
        ];

        // Popular books (first 8 from the list)
        const popularBooks = books.slice(0, 8);
        
        // Remaining books for Books & References section
        const referenceBooks = books.slice(8);

        // Cart and notification data
        let cartItems = [
            {title: "To Kill a Mockingbird", author: "Harper Lee"},
            {title: "The Hobbit", author: "J.R.R. Tolkien"}
        ];

        let notifications = [
            {text: '"1984" is ready for pickup', time: '10 min ago', icon: 'book'},
            {text: '"The Great Gatsby" due in 2 days', time: '1 hour ago', icon: 'clock'},
            {text: 'New books in Fiction added', time: 'Yesterday', icon: 'star'}
        ];

            // Function to create book card HTML
            function createBookCard(book, isPopular = false) {
                // Check if book has an image URL
                const hasImage = book.image && book.image.trim() !== '';
                
                // Create image HTML - use actual image if available, otherwise use placeholder
                const imageHtml = hasImage 
                    ? `<img src="${book.image}" alt="${book.title}" class="book-cover-image" onerror="this.onerror=null; this.style.display='none'; this.parentElement.innerHTML='<i class=\\'fas fa-book\\'></i>';">`
                    : '<i class="fas fa-book"></i>';
                
                return `
                    <div class="book-card" onclick="showBookDetail('${book.title.replace(/'/g, "\\'")}')">
                        <div class="book-image">
                            ${imageHtml}
                        </div>
                        <div class="book-info">
                            <h3 class="book-title">${book.title}</h3>
                            <p class="book-author">${book.author}</p>
                            <button class="borrow-btn" onclick="event.stopPropagation(); addToCart('${book.title.replace(/'/g, "\\'")}', '${book.author.replace(/'/g, "\\'")}')">
                                ${isPopular ? 'Borrow Now' : 'Reserve'}
                            </button>
                        </div>
                    </div>
                `;
            }

        // Show book detail modal
        function showBookDetail(bookTitle) {
            const book = books.find(b => b.title === bookTitle);
            if (!book) return;
            
            // Update modal content
            document.getElementById('modalBookTitle').textContent = book.title;
            document.getElementById('modalBookAuthor').textContent = book.author;
            document.getElementById('modalBookSection').textContent = book.section;
            document.getElementById('modalBookNumber').textContent = book.bookNumber;
            document.getElementById('modalBookLanguage').textContent = book.language;
            document.getElementById('modalBookAccess').textContent = book.access;
            document.getElementById('modalBookCopies').textContent = book.copies;
            document.getElementById('modalBookDescription').textContent = book.description;
            document.getElementById('modalBookPublisher').textContent = book.publisher;
            document.getElementById('modalBookPublished').textContent = book.published;
            
            // Store current book for modal actions
            document.getElementById('bookModal').setAttribute('data-current-book', bookTitle);
            
            // Show modal
            document.getElementById('bookModal').style.display = 'flex';
            document.body.style.overflow = 'hidden'; // Prevent scrolling
        }

        // Close book modal
        function closeBookModal() {
            document.getElementById('bookModal').style.display = 'none';
            document.body.style.overflow = 'auto'; // Restore scrolling
        }

        // Borrow from modal
        function borrowFromModal() {
            const bookTitle = document.getElementById('bookModal').getAttribute('data-current-book');
            const book = books.find(b => b.title === bookTitle);
            
            if (book) {
                alert(`Borrowing: "${book.title}" by ${book.author}\n\nBook will be reserved for you. Please pick up within 3 days.\n\nDue date: 2 weeks from pickup\n\nStatus: ${book.access}`);
                closeBookModal();
            }
        }

        // Add to cart from modal
        function addToCartFromModal() {
            const bookTitle = document.getElementById('bookModal').getAttribute('data-current-book');
            const book = books.find(b => b.title === bookTitle);
            
            if (book) {
                addToCart(book.title, book.author);
                closeBookModal();
            }
        }

        // Close modal when clicking outside
        document.getElementById('bookModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeBookModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeBookModal();
            }
        });

        // Render popular books
        function renderPopularBooks() {
            const container = document.getElementById('popularBooks');
            container.innerHTML = popularBooks.map(book => createBookCard(book, true)).join('');
        }

        // Render reference books in two columns
        function renderReferenceBooks() {
            const midIndex = Math.ceil(referenceBooks.length / 2);
            const column1Books = referenceBooks.slice(0, midIndex);
            const column2Books = referenceBooks.slice(midIndex);
            
            const column1 = document.getElementById('column1');
            const column2 = document.getElementById('column2');
            
            column1.innerHTML = column1Books.map(book => createBookCard(book)).join('');
            column2.innerHTML = column2Books.map(book => createBookCard(book)).join('');
        }

        // Initialize time display
        function updateTime() {
            const now = new Date();
            let hours = now.getHours();
            let minutes = now.getMinutes();
            
            minutes = minutes < 10 ? '0' + minutes : minutes;
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12;
            
            
        }

        // Add book to cart
        function addToCart(bookTitle, author) {
            cartItems.push({title: bookTitle, author: author});
            updateCartCount();
            
            // Show confirmation
            alert(`"${bookTitle}" has been added to your borrowing cart!\n\nYou can review your selections in the cart (${cartItems.length} items)`);
            
            // Update cart dropdown
            updateCartDropdown();
        }

        // Update cart count badge
        function updateCartCount() {
            document.getElementById('cartCount').textContent = cartItems.length;
        }

        // Update cart dropdown content
        function updateCartDropdown() {
            const cartDropdown = document.querySelector('.icon-cart').parentElement.parentElement.querySelector('.dropdown-content');
            const cartItemsContainer = cartDropdown.querySelectorAll('.cart-item');
            
            // Simple update - in a real app, you'd rebuild the cart items
            document.getElementById('cartCount').textContent = cartItems.length;
        }

        // View cart function
        function viewCart() {
            window.location.href = "cart.html";
        }

        // View all notifications
        function viewAllNotifications() {
            alert(`All Notifications:\n\n${notifications.map(notif => `• ${notif.text} (${notif.time})`).join('\n')}\n\n(This would open a notifications page in a real system.)`);
        }

        // User Menu Functions
        function goToAccountManagement() {
            window.location.href = "account-management.html";
        }

        function goToManageBorrows() {
            window.location.href = "manage-borrows.html";
        }

        function goToBorrowHistory() {
            window.location.href = "borrow-history.html";
        }

function logout() {
    if (confirm("Are you sure you want to logout?")) {
        // Remove current user from localStorage
        localStorage.removeItem('librow_current_user');
        
        // Show logout message
        alert("You have been successfully logged out.");
        
        // Redirect to login page
        setTimeout(() => {
            window.location.href = "login.html";
        }, 500);
    }
}

// Add this function to check login status when page loads
function checkLoginStatus() {
    const currentUser = JSON.parse(localStorage.getItem('librow_current_user'));
    
    if (!currentUser) {
        // If not logged in, redirect to login page
        window.location.href = "login.html";
        return false;
    }
    
    // Update user menu to show username
    const userMenu = document.querySelector('.icon-user');
    if (userMenu && currentUser.username) {
        // You can optionally show the username somewhere
        // For example, in a tooltip or near the icon
    }
    
    return true;
}

// Call this function when the page loads
document.addEventListener('DOMContentLoaded', function() {
    checkLoginStatus();
    // ... rest of your existing initialization code
});

        // Initialize sort buttons
        function initSortButtons() {
            document.querySelectorAll('.sort-btn').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.sort-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    const sortBy = this.textContent;
                    alert(`Sorting by: ${sortBy}\n\n(This would filter books in a real system.)`);
                });
            });
        }

        // Initialize genre cards
        function initGenreCards() {
            document.querySelectorAll('.genre-card').forEach(card => {
                card.addEventListener('click', function() {
                    const genre = this.querySelector('.genre-name').textContent;
                    alert(`Showing books in genre: ${genre}\n\n(This would filter the book display in a real system.)`);
                });
            });
        }

        // Initialize search
        function initSearch() {
            const searchBox = document.querySelector('.search-box');
            const searchBooks = () => {
                const term = searchBox.value.trim();
                if (term) {
                    alert(`Searching for: "${term}"\n\n(This would show search results in a real system.)`);
                }
            };
            
            document.querySelector('.search-box').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') searchBooks();
            });
        }

        // Initialize icon clicks
        function initIconClicks() {
            // Notification bell click
            const bellIcon = document.querySelector('.icon-bell');
            bellIcon.addEventListener('click', function(e) {
                e.stopPropagation();
                const dropdown = this.parentElement.parentElement.querySelector('.dropdown-content');
                dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
            });

            // Cart icon click
            const cartIcon = document.querySelector('.icon-cart');
            cartIcon.addEventListener('click', function(e) {
                e.stopPropagation();
                const dropdown = this.parentElement.parentElement.querySelector('.dropdown-content');
                dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
            });

            // User menu click
            const userIcon = document.querySelector('.icon-user');
            userIcon.addEventListener('click', function(e) {
                e.stopPropagation();
                const dropdown = this.parentElement.parentElement.querySelector('.dropdown-content');
                dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
            });
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function() {
            document.querySelectorAll('.dropdown-content').forEach(dropdown => {
                dropdown.style.display = 'none';
            });
        });

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            updateTime();
            setInterval(updateTime, 60000);
            
            renderPopularBooks();
            renderReferenceBooks();
            
            initSortButtons();
            initGenreCards();
            initSearch();
            initIconClicks();
            
            // Set initial counts
            updateCartCount();
            document.getElementById('notificationCount').textContent = notifications.length;
        });
    </script>
</body>

</html>
